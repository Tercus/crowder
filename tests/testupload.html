<!doctype html>
<html>
  <body>
    <form>
      <label for="torrentId">Upload file: </label>
      <input type="file" name="torrentId">
      <button type="submit">Upload</button>
    </form>

    <!-- Include the latest version of WebTorrent -->
    <script src="https://cdn.jsdelivr.net/webtorrent/latest/webtorrent.min.js"></script>

    <script>
      var client = new WebTorrent()

      client.on('error', function (err) {
        console.error('ERROR: ' + err.message)
      })

      document.querySelector('form').addEventListener('submit', function (e) {
        e.preventDefault() // Prevent page refresh

        var torrentId = document.querySelector('form input[name=torrentId]').files[0]
        console.log('Adding ' + torrentId)
        client.seed(torrentId, { announceList: [['https://localhost:8080'], ['udp://localhost:8080'], ['ws://localhost:8080']] }, onTorrent)
      })

      function onTorrent (torrent) {
      }

  
    </script>
  </body>
</html>