{{^title}}
<h2>Start Uploading</h2>
<form action='' method='POST' enctype='multipart/form-data'>
    <input type='file' name='files' multiple><br>
    <input type='submit' name='upload_btn' value='upload'>
</form>
{{/title}}

{{#title}}
Server is now downloading and will be seeding: {{title}}.<br>You may go back to the <a href=http://localhost:3000>website</a>.
{{/title}}


<script src="https://cdn.jsdelivr.net/webtorrent/latest/webtorrent.min.js"></script>
<script>
var client = new WebTorrent()

client.on('error', function (err) {
	console.error('ERROR: ' + err.message)
})

document.querySelector('form').addEventListener('submit', function (e) {
	e.preventDefault() // Prevent page refresh
	var files = document.querySelector('form input[name=files]').value
	console.log('Adding ' + files)
	//client.seed(files, onTorrent)
})

function onTorrent (torrent) {
	torrent.on('done', function () {
		console.log('Progress: 100%')
		clearInterval(interval)
	})
}
</script>